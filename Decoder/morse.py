import itertools
from builtins import print

from decoder_interface import AbstractDecoder
from base import Base


class Morse(AbstractDecoder):
    algorithms = ["morse"]
    dict_letter_to_morse = \
        {
            'A': '.-', 'B': '-...', 'C': '-.-.',
            'D': '-..', 'E': '.', 'F': '..-.',
            'G': '--.', 'H': '....', 'I': '..',
            'J': '.---', 'K': '-.-', 'L': '.-..',
            'M': '--', 'N': '-.', 'O': '---',
            'P': '.--.', 'Q': '--.-', 'R': '.-.',
            'S': '...', 'T': '-', 'U': '..-',
            'V': '...-', 'W': '.--', 'X': '-..-',
            'Y': '-.--', 'Z': '--..',

            '0': '-----', '1': '.----', '2': '..---',
            '3': '...--', '4': '....-', '5': '.....',
            '6': '-....', '7': '--...', '8': '---..',
            '9': '----.'
        }

    dict_morse_to_letter = {value: key for key, value in dict_letter_to_morse.items()}

    def __init__(self, separator = ' ', algorithm=None):
        super(Morse, self).__init__(algorithm)
        self.result = None
        self.__separator = separator

    def update(self, data):
        letters = str(data).split(self.__separator)
        self.result = list(map(lambda x: self.dict_morse_to_letter.get(x, ""), letters))

    def digest(self):
        return "".join(self.result)

    def hexdigest(self):
        return hex(self.result)


l = "--. -.. --. -.. .- --. ..-. -..- -..- -.. ...- --. .- --. -..- --. -..- ..-. --. -..- --. ..-. ...- --. ...- .- -..- -.. ...- -..- .- ..-. .- --. -..- ...- --. -.. -.. ...- ...- .- .- ..-. .- ...- --. --. .- --. --. .- -..- ...- -.. --. -.. .- .- -..- .- -..- --. --. .- -..- .- ..-. .- --. ..-. ..-. .- --. ..-. -..- .- --. -.. -..- --. .- ..-. ...- --. --. --. --. .- -..- -..- --. -.. -..- -.. .- .- ..-. -.. -.. ..-. --. .- -..- .- -.. ..-. --. --. -..- --. ..-. .- -..- -.. -..- .- ...- -..- ...- -.. -..- --. -..- -..- -.. .- -..- --. --. --. ..-. --. ..-. --. -.. --. --. ..-. --. .- -..- ..-. ..-. ...- --. --. ..-. ..-. -..- -..- --. -..- --. --. -..- -..- -..- .- ...- -..- -..- .- ..-. ...- ..-. ...- --. --. --. ...- -.. --. -.. ..-. ..-. .- -..- --. -.. -..- --. .- -..- --. --. .- ...- .- .- .- ..-. --. ..-. --. ..-. -.. -..- --. ...- --. ..-. -.. ..-. --. -..- -.. ..-. -..- --. --. --. .- ..-. -..- -.. .- -..- --. --. ...- ..-. .- ...- ..-. ..-. .- --. .- -..- --. -..- --. ..-. -..- -..- .- --. ...- -.. ..-. ..-. --. -..- --. -..- .- --. --. -.. ..-. ..-. -..- .- --. -..- --. ...- ..-. ..-. -..- .- .- -.. -..- ...- .- --. -..- --. .- ...- ...- .- .- .- --. -..- .- .- -.. --. ...- -..- --. -..- .- .- .- ..-. --. .- -..- ..-. --. ..-. --. -..- -..- ..-. .- ...- --. ...- .- --. --. --. ...- -..- --. --. --. -..- .- ..-. -.. ...- --. --. .- -.. -..- ..-. .- --. --. -..- .- -..- --. -.. --. -..- --. .- -.. ..-. ...- --. -.. ..-. --. ...- ...- -.. --. -..- -.. ...- .- ..-. .- -..- --. -.. .- -.. -.. -..- -.. ..-. -.. ..-. -..- -..- --. -..- --. ..-. ..-. --. ...- -..- ...- ...- ...- .- .- ..-. -.. -.. --. -..- --. ..-. --. .- --. ..-. -..- -.. --. ..-. ..-. ..-. -..- -.. ...- .- .- ...- ..-. -..- .- ..-. --. --. -..- -.. ..-. -..- --. -.. -.. -..- ...- -..- --. -..- .- -..- -..- --. --. ...- ...- .- --. -..- --. --. ..-. ...- .- --. -..- -..- .- --. .- .- .- ..-. .- ..-. --. ..-. .- --. --. --. .- -..- ...- --. .- ...- --. --. .- ..-. -..- --. -..- -..- .- --. --. -..- -.. .- .- -..- .- -.. -.. -..- -.. --. --. ...- --. -..- -..- ...- .- .- .- -.. -.. .- -..- ..-. -..- ..-. --. --. --. --. --. ..-. .- ...- .- ...- -..- ..-. .- -.. -.. --. -.. ..-. .- -..- .- ...- .- ...- -..- --. .- ...- -..- ..-. .- -..- --. --. .- -.. -..- ...- -.. ...- ...- ...- .- --. .- ..-. --. ...- -.. .- --. ..-. -..- ..-. .- -..- ..-. -.. -..- ...- .- ..-. --. --. .- -..- -..- -..- .- -..- .- ..-. .- --. .- ..-. ..-. --. --. -..- -.. -..- .- ...- .- --. -.. --. -..- .- --. -.. -..- -..- -..- -.. ..-. --. -.. --. -..- -..- ...- .- .- ...- .- -..- ...- -..- --. ..-. .- --. --. ...- .- ...- .- ..-. .- ..-. --. ..-. .- --. .- -.. --. ..-. ..-. .- -.. -.. -.. ...- -.. --. --. .- -.. ..-. .- -.. --. -..- ..-. ..-. -.. ..-. --. -..- --. -..- .- --. -..- --. --. ..-. ..-. -..- -..- ..-. .- ...- .- ...- --. .- .- -.. .- --. .- -..- --. -..- .- .- .- --. --. ...- --. ..-. -..- --. .- ..-. .- -..- ...- -..- .- -..- .- .- -.. ..-. -.. ...- .- ..-. -.. --. -..- ..-. -..- --. -.. -..- .- -.. -.. .- --. --. .- ...- .- -..- .- --. .- ..-. -..- -.. -..- ..-. --. -..- --. --. ...- --. ..-. .- .- -.. -..- -..- -..- --. -..- --. --. ..-. --. -.. .- --. --. ...- .- --. --. --. ...- ..-. .- .- .- ...- --. --. --. -..- --. -..- -..- -..- .- --. -.. -..- --. --. .- ..-. .- -..- .- ...- .- ...- --. --. --. --. .- -..- --. --. --. ...- ..-. -..- --. -..- ...- --. --. -..- --. ..-. -..- .- -.. -..- .- --. --. -..- ..-. --. -..- ..-. .- --. ..-. -..- .- -..- -..- -..- .- ..-. .- ...- --. ...- -.. ..-. .- ..-. --. ..-. .- --. --. ..-. -..- --. ..-. .- -.. ...- --. -..- --. .- --. ..-. ...- ..-. --. -..- .- -.. -..- ..-. --. ..-. --. -..- .- --. .- -.. --. -..- .- -.. -.. -..- --. ..-. -..- -.. -..- ...- --. --. .- --. ...- -..- -..- --. .- -..- --. ..-. ..-. ...- -.. ...- .- -..- -..- -..- .- -..- -..- -..- -.. ..-. .- ..-. .- -..- .- -.. -..- --. -.. .- .- ...- .- --. ..-. ..-. -.. -..- -..- ...- --. ..-. --. --. ...- ...- -..- ..-. -..- -..- .- --. -..- --. --. -.. ...- ...- -.. -..- ...- -.. --. -..- --. .- -.. --. --. ..-. -..- ..-. -.. -..- .- ...- -.. ..-. --. ..-. --. --. ...- .- -..- ..-. --. ..-. --. -..- -..- ...- ..-. -..- ...- --. --. -..- --. .- ..-. ...- --. --. -..- ..-. --. --. ..-. -..- ..-. --. ..-. .- ..-. -..- --. --. -.. ..-. --. --. -..- --. ..-. .- --. --. ..-. -.. -..- .- -..- .- .- .- -..- -..- -.. .- -..- -..- ..-. .- -..- --. -..- --. ...- --. ..-. --. -..- .- -..- .- -..- --. ..-. --. --. --. --. --. ..-. ..-. ..-. -.. ...- .- ...- -..- -..- -.. --. .- .- .- --. .- --. .- -..- .- ..-. .- --. -..- -.. --. ...- -.. -..- .- -.. -..- --. ..-. --. ..-. ..-. -.. --. -..- -.. -.. --. .- -..- --. ...- ..-. --. -.. --. -.. ..-. ..-. ..-. -..- -..- ...- .- .- ..-. -.. ...- --. ..-. -.. ...- -..- .- -.. .- .- ..-. ...- --. .- -..- .- -.. .- --. ...- -..- ..-. -..- -..- --. ..-. --. ...- -..- --. ..-. ...- ...- --. ..-. .- ...- ..-. --. ..-. ...- -..- ...- --. -.. -..- ...- -..- -..- -.. -..- --. ..-. -..- ...- --. ..-. -.. .- .- -.. -.. --. .- -..- .- -..- --. ..-. ...- ..-. --. --. -..- -..- --. -..- -..- --. ...- -.. -..- --. -..- -..- ...- -..- -..- -.. --. --. --. ..-. .- --. -..- -.. --. ..-. ..-. ...- .- ...- .- --. --. -..- .- ...- ..-. ...- -..- ..-. ...- --. .- --. .- -.. --. -..- ...- -.. -.. -..- ...- --. -.. ..-. .- -.. --. ..-. ..-. --. -.. -..- .- ..-. .- -..- -..- ..-. --. --. --. --. ...- -.. ..-. -..- .- --. .- -..- -.. --. --. --. .- -..- ...- -..- .- .- .- -..- ...- -..- --. ..-. -..- ..-. ..-. -..- .- -..- --. -..- .- ...- --. --. --. ..-. -.. ...- --. ...- -..- ...- ..-. -.. ..-. ...- .- .- .- -.. --. ..-. ..-. -..- --. --. ...- -..- .- --. -.. ..-. --. --. .- ..-. ...- -..- --. --. -..- -..- -..- --. ..-. -..- .- -..- .- -..- --. -..- .- --. ...- --. -.. ..-. .- -..- -.. ..-. -..- --. --. --. -.. -..- .- ..-. -.. --. --. ...- ...- ..-. -..- .- .- -.. -.. -..- .- .- -..- --. --. .- .- -..- -.. -..- ...- -..- .- ...- --. --. --. -..- ..-. -..- -..- .- --. --. --. ..-. ..-. ..-. -..- -..- ...- ...- ..-. ...- .- ..-. .- ...- --. --. ..-. --. .- -..- .- --. .- -.. ..-. -..- .- -.. -.. ..-. -..- .- --. -..- -..- -..- -..- --. -.. -..- -..- ..-. .- ..-. ..-. --. -..- --. --. --. .- -..- ..-. --. .- ..-. -..- -.. --. -..- .- --. ..-. --. .- .- ..-. ..-. --. -..- ..-. .- --. ..-. .- .- --. ...- .- --. ..-. --. -..- -..- .- -..- .- --. -.. --. ...- ...- -.. -..- --. ..-. ...- -..- -..- -..- .- -..- .- --. -..- --. ..-. -.. -..- --. --. -.. --. -.. .- -..- -..- -.. ..-. ..-. --. ..-. .- --. --. ...- --. --. -..- ..-. .- --. -..- --. -.. -.. -.. -.. --. --. -.. ..-. --. -.. .- ..-. -..- .- .- -..- .- ...- -..- ..-. .- --. .- -..- .- --. .- .- -..- ..-. --. ...- -..- ..-. ..-. -..- -.. -..- -.. --. --. -..- --. -..- -..- ..-. .- -..- ..-. -..- -..- -.. --. ..-. -..- --. ...- -..- -.. --. --. --. --. -..- --. --. -..- --. .- ..-. ...- --. ..-. --. -..- --. --. -.. .- --. -.. ..-. -..- --. .- .- -..- -..- .- --. .- --. --. ..-. .- -..- -..- -..- ..-. --. .- -..- ..-. ..-. -..- .- .- .- -..- --. ...- ..-. ...- --. -.. ...- -..- -..- --. ..-. .- .- ...- --. -..- ...- -..- .- ...- ..-. ...- --. ..-. .- ..-. .- --. .- ..-. --. -..- ..-. ..-. -..- ...- --. ..-. --. ...- --. ...- ..-. ..-. .- .- -..- ..-. ..-. -.. -.. -..- -.. -.. .- .- .- --. .- -.. .- ..-. -.. ..-. ...- ...- --. -.. -..- --. .- ..-. -.. -..- -.. -..- .- ...- --. --. ...- -.. -.. ..-. -..- ...- .- --. --. -..- .- ..-. .- ...- -..- ..-. -..- --. -..- ..-. ...- --. -..- ..-. --. ..-. --. ...- --. -..- -.. --. -..- ...- .- ..-. --. -..- .- --. ..-. --. .- -..- ...- ..-. -..- ..-. ...- --. -.. --. ..-. ..-. .- ...- ...- ...- .- ..-. --. -..- .- ...- -..- ..-. -..- ...- .- ..-. --. .- .- .- .- --. ...- -..- .- -.. .- ...- -.. -..- ...- ..-. .- ..-. --. -..- ...- ..-. --. -..- -.. -..- .- ...- --. -.. .- --. .- --. -..- -.. -..- ..-. -..- --. .- -..- -.. --. --. -..- .- -..- --. -..- --. -..- --. ..-. --. -.. --. .- .- -..- --. --. --. -..- --. -..- -..- -.. --. -..- .- ..-. ..-. ...- -..- --. .- --. --. -.. ...- ..-. --. ..-. -..- -..- -..- ...- --. ...- .- -..- -.. -..- ...- --. --. ..-. ..-. .- ..-. -..- .- -.. -..- ..-. ..-. ..-. .- --. .- -..- .- -..- --. ..-. .- --. --. .- .- -.. -.. -..- .- -..- ..-. -..- ..-. ...- .- ..-. -..- -..- ...- ...- .- -..- ..-. -..- ..-. ...- ..-. ..-. --. .- ..-. --. --. -..- ...- -..- ...- --. .- -..- --. -..- -.. --. --. ..-. -..- -..- ...- ..-. ..-. ..-. ..-. ...- ...- .- -..- ..-. ..-. .- -..- ...- ..-. .- .- ..-. ..-. .- -.. .- -..- ...- ..-. --. -..- ...- -..- .- ...- -..- .- --. ..-. .- --. .- ..-. --. -.. ...- --. .- ...- --. ..-. .- -.. --. ...- --. -..- --. --. .- -..- --. ..-. .- -..- --. -..- .- ..-. -..- -.. -.. ..-. ..-. ...- ..-. --. -..- --. ..-. -..- -..- .- --. ...- --. ...- .- ..-. -.. ...- -..- ..-. .- ..-. -.. --. ...- -..- --. ..-. .- --. --. -.. --. ..-. ..-. ..-. -.. -..- -..- -..- --. -..- .- -.. -.. ...- --. ..-. -..- --. ...- ..-. --. -..- .- -..- -..- -..- .- -..- .- -..- .- -..- --. ..-. .- -..- -..- -..- .- --. ...- -.. .- .- -.. -..- -..- -.. --. ..-. ..-. ...- --. ...- --. ..-. -.. --. -.. ...- --. ..-. -..- --. -.. ..-. .- ..-. .- ..-. ..-. ..-. -.. -..- .- ...- --. -..- -..- -..- --. -..- --. -.. --. ..-. -..- --. --. ...- .- -..- .- -.. -.. -..- .- ..-. .- -.. .- -..- -.. ...- ..-. -.. .- --. .- -.. ...- .- .- -..- ...- -.. --. --. --. ...- --. -..- ..-. ...- .- -.. ..-. -..- --. .- .- ..-. -..- -..- .- -.. -..- --. --. --. -..- ..-. ..-. --. .- -..- --. ...- ...- ..-. --. -..- .- -..- --. .- .- -..- -.. --. ..-. ..-. --. ..-. .- ...- ..-. ..-. .- ...- --. ..-. .- -.. -..- --. ..-. ..-. -.. --. --. ..-. --. ...- ..-. ..-. --. --. ...- -.. -..- ..-. .- -..- -..- -.. ...- --. .- -.. .- ...- -..- ..-. -..- ..-. .- ...- .- -..- .- --. -..- --. ..-. ...- --. -.. --. -..- .- -..-"
m = Morse()
m.update(l)
print(m.digest())